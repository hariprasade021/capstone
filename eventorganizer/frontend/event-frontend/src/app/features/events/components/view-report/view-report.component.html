<div class="container mt-4">
  <!-- Loading Indicator -->
  <div *ngIf="loading" class="text-center">
    <p><i class="fas fa-spinner fa-spin"></i> Loading event report...</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="alert alert-danger">
    <i class="fas fa-exclamation-triangle"></i> {{ error }}
  </div>

  <!-- Event Report -->
  <div *ngIf="reportData" class="mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h3 class="display-4 font-weight-bold">Event Report</h3>
      <button class="btn btn-lg btn-outline-primary" (click)="downloadPDF()">
        <i class="fas fa-download"></i> Download PDF
      </button>
    </div>

    <!-- Event Details Card -->
    <div class="card mb-4 shadow-lg rounded">
      <div class="card-header bg-primary text-white">
        <h4>Event Details</h4>
      </div>
      <div class="card-body">
        <p><strong>Name:</strong> {{ reportData.eventDetails.name }}</p>
        <p><strong>Title:</strong> {{ reportData.eventDetails.title }}</p>
        <p><strong>Location:</strong> {{ reportData.eventDetails.location }}</p>
        <p><strong>Status:</strong> {{ reportData.eventDetails.status }}</p>
      </div>
    </div>

    <!-- Report Section -->
    <div class="row">
      <!-- Guests -->
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm rounded">
          <div class="card-header bg-info text-white">
            <h4>Guests</h4>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li *ngFor="let guest of reportData?.guestDetails || []" class="list-group-item">
                <strong>{{ guest?.name || 'Unknown Guest' }}</strong>
                <p>Diet: {{ guest?.diet || 'Not Specified' }}</p>
                <p>RSVP: {{ guest?.rsvpStatus || 'No Status' }}</p>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Vendors -->
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm rounded">
          <div class="card-header bg-success text-white">
            <h4>Vendors</h4>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li *ngFor="let vendor of reportData.vendorDetails" class="list-group-item">
                <strong>{{ vendor.vendorCompanyName }}</strong>
                <p >Amount: {{ vendor.vendorAmount }}</p>
                <p >Service: {{ vendor.vendorServiceType }}</p>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Tasks
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm rounded">
          <div class="card-header bg-dark text-white">
            <h4>Tasks</h4>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li *ngFor="let task of reportData.taskDetails" class="list-group-item">
                <strong>{{ task.name }}</strong> 
                <p>Status: {{ task.status }}</p>
                <p >Deadline: {{ task.deadline }}</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div> -->

    <!-- Tasks -->
<!-- Tasks
<div class="col-md-4 mb-4">
  <div class="card h-100 shadow-sm rounded">
    <div class="card-header bg-dark text-white">
      <h4>Tasks</h4>
    </div>
    <div class="card-body">
      <ul class="list-group">
        <li *ngFor="let task of reportData.taskDetails" 
            class="list-group-item" 
            [ngClass]="getTaskClass(task)">
          <strong>{{ task.name }}</strong> 
          <p><strong> {{ task.status }}</strong></p>
          <p><strong>Deadline: {{ task.deadline | date }}</strong></p>
        </li>
      </ul>
    </div>
  </div>
</div> -->
<!-- Tasks -->
<!-- Tasks -->
<!-- Tasks -->
<div class="col-md-4 mb-4">
  <div class="card h-100 shadow-sm rounded">
    <div class="card-header bg-dark text-white">
      <h4>Tasks</h4>
    </div>
    <div class="card-body">
      <ul class="list-group">
        <li *ngFor="let task of reportData.taskDetails" 
            class="list-group-item">
          <strong [ngClass]="getTaskClass(task)">{{ task.name }}</strong> <!-- Apply the class here -->
          <p><strong>{{ task.status }}</strong></p>
          <p><strong>Deadline: {{ task.deadline | date }}</strong></p>
        </li>
      </ul>
    </div>
  </div>
</div>


    <!-- Close Button -->
    <div class="mt-4 text-center">
      <button class="btn btn-lg btn-secondary" (click)="closeReport()">
        <i class="fas fa-times-circle"></i> Close Report
      </button>
    </div>
  </div>
</div>
