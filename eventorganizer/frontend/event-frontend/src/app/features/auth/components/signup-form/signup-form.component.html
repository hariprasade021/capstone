<div class="d-flex justify-content-center align-items-center vh-100" style="background-color:black">
  <div class="card p-4 shadow-lg bg-dark text-white" style="width: 20rem;">
    <h2 class="text-center mb-4">Sign Up</h2>
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <!-- Username Input -->
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input
          type="text"
          class="form-control"
          id="username"
          style="background-color: #333333; color: white;"
          formControlName="username"
          required
        />
        <div *ngIf="usernameExists" class="text-danger">
          <small>Username already exists.</small>
        </div>
        <div *ngIf="signupForm.get('username')?.touched && signupForm.get('username')?.invalid" class="text-danger">
          <small *ngIf="signupForm.get('username')?.hasError('required')">Username is required.</small>
          <small *ngIf="signupForm.get('username')?.hasError('minlength')">Username must be at least 5 characters long.</small>
          <small *ngIf="signupForm.get('username')?.hasError('maxlength')">Username cannot be more than 20 characters long.</small>
          <small *ngIf="signupForm.get('username')?.hasError('pattern')">Username must only contain alphanumeric characters.</small>
        </div>
      </div>

      <!-- Password Input -->
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input
          type="password"
          class="form-control"
          id="password"
          style="background-color: #333333; color: white;"
          formControlName="password"
          required
        />
        <div *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.invalid" class="text-danger">
          <small *ngIf="signupForm.get('password')?.hasError('required')">Password is required.</small>
          <small *ngIf="signupForm.get('password')?.hasError('minlength')">Password must be at least 8 characters long.</small>
          <small *ngIf="signupForm.get('password')?.hasError('pattern')">Password must contain at least one letter and one number.</small>
        </div>
      </div>

      <!-- Confirm Password Input -->
      <div class="mb-3">
        <label for="confirm-password" class="form-label">Confirm Password</label>
        <input
          type="password"
          class="form-control"
          id="confirm-password"
          style="background-color: #333333; color: white;"
          formControlName="confirmPassword"
          required
        />
        <div *ngIf="passwordMatchError" class="text-danger">
          <small>Passwords do not match.</small>
        </div>
      </div>

      <!-- Role Selection -->
      <div class="mb-3">
        <label for="role" class="form-label">Role</label>
        <select
          class="form-select"
          id="role"
          formControlName="role"
          style="background-color: #333333; color: white;"
          required
        >
          <option value="" disabled selected>Select Role</option>
          <option value="USER">User</option>
          <option value="ADMIN">Admin</option>
          <option value="VENDOR">VENDOR</option>

        </select>
        <div *ngIf="signupForm.get('role')?.touched && signupForm.get('role')?.invalid" class="text-danger">
          <small>Role is required.</small>
        </div>
      </div>

      <!-- Sign Up Button -->
      <div class="d-grid">
        <button type="submit" class="btn btn-primary" [disabled]="signupForm.invalid">Sign Up</button>
      </div>

      <!-- Success/Error Messages -->
      <div class="mt-3 text-success" *ngIf="successMessage">{{ successMessage }}</div>
      <div class="mt-3 text-danger" *ngIf="errorMessage">{{ errorMessage }}</div>
    </form>
  </div>
</div>
